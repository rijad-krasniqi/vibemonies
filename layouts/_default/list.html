{{ define "main" }}
<div class="category-header">
  <h1>{{ .Title }}</h1>
  {{ if .Description }}<p>{{ .Description }}</p>{{ end }}
</div>

<!-- Category Navigation Pills -->
<div class="category-nav">
  <a href="/" class="all">All Posts</a>
  <a href="/prediction-markets/" class="prediction-markets{{ if eq .Title "Prediction Markets" }} active{{ end }}">Prediction Markets</a>
  <a href="/vibe-coding/" class="vibe-coding{{ if eq .Title "Vibe Coding" }} active{{ end }}">Vibe Coding</a>
  <a href="/making-money/" class="making-money{{ if eq .Title "Making Money" }} active{{ end }}">Making Money</a>
</div>

<!-- Subcategory filters based on section -->
{{ if eq .Title "Prediction Markets" }}
<div class="subcategory-nav">
  <a href="/prediction-markets/" class="active">All</a>
  <a href="/prediction-markets/#platforms">Platforms</a>
  <a href="/prediction-markets/#strategies">Strategies</a>
  <a href="/prediction-markets/#bots">Bots & Automation</a>
  <a href="/prediction-markets/#guides">Beginner Guides</a>
</div>
{{ else if eq .Title "Vibe Coding" }}
<div class="subcategory-nav">
  <a href="/vibe-coding/" class="active">All</a>
  <a href="/vibe-coding/#claude-code">Claude Code</a>
  <a href="/vibe-coding/#tools">AI Tools</a>
  <a href="/vibe-coding/#tutorials">Tutorials</a>
  <a href="/vibe-coding/#case-studies">Case Studies</a>
</div>
{{ else if eq .Title "Making Money" }}
<div class="subcategory-nav">
  <a href="/making-money/" class="active">All</a>
  <a href="/making-money/#ai-hustles">AI Side Hustles</a>
  <a href="/making-money/#affiliate">Affiliate Marketing</a>
  <a href="/making-money/#creator">Creator Economy</a>
  <a href="/making-money/#frameworks">Frameworks</a>
</div>
{{ end }}

<section class="posts-grid">
  {{ range .Pages }}
  {{ $sectionSlug := "" }}
  {{ with .CurrentSection }}{{ with .File }}{{ $sectionSlug = .ContentBaseName }}{{ end }}{{ end }}
  <div class="post-card">
    <div class="post-card-image {{ $sectionSlug }}">
      {{ if .Params.image }}
      <img src="{{ .Params.image }}" alt="{{ .Title }}">
      {{ else }}
      {{ if eq $sectionSlug "prediction-markets" }}
      <svg class="placeholder-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
      {{ else if eq $sectionSlug "vibe-coding" }}
      <svg class="placeholder-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/></svg>
      {{ else }}
      <svg class="placeholder-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
      {{ end }}
      {{ end }}
    </div>
    <div class="post-card-content">
      {{ $sectionTitle := "" }}
      {{ with .CurrentSection }}{{ $sectionTitle = .Title }}{{ end }}
      <span class="category-tag {{ $sectionSlug }}">{{ $sectionTitle }}</span>
      <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
      <p class="post-excerpt">{{ .Description }}</p>
      <div class="post-meta">
        <span>{{ .Date.Format "Jan 2, 2006" }}</span>
        <span>{{ .ReadingTime }} min read</span>
      </div>
    </div>
  </div>
  {{ end }}
</section>
{{ end }}
